<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Realistic 3D Escalator</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      perspective: 1000px;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      text-align: center;
      padding: 20px;
      max-width: 1200px;
      z-index: 10;
    }

    h1 {
      color: white;
      font-size: 3.5rem;
      margin-bottom: 10px;
      text-shadow: 0 2px 10px rgba(0,0,0,0.5);
      letter-spacing: 2px;
    }

    .subtitle {
      color: rgba(255,255,255,0.85);
      font-size: 1.2rem;
      margin-bottom: 40px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.6;
    }

    .escalator-container {
      position: relative;
      width: 600px;
      height: 600px;
      margin: 0 auto;
      transform: rotateX(10deg) rotateY(-5deg);
      transform-style: preserve-3d;
      transition: transform 0.5s ease;
    }

    .escalator {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%) rotate(30deg) rotateX(15deg);
      width: 300px;
      height: 500px;
      background: linear-gradient(to bottom, #a0a0a0, #7a7a7a);
      border-radius: 12px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.4);
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .steps-wrapper {
      position: relative;
      width: 90%;
      height: 100%;
      overflow: hidden;
    }

    .steps {
      position: absolute;
      width: 100%;
      height: 2000px; /* Large enough for seamless looping */
      display: flex;
      flex-direction: column;
      animation: scrollSteps 20s linear infinite;
    }

    .step {
      height: 30px;
      background: linear-gradient(to right, #4d4d4d, #5a5a5a);
      margin: 8px 0;
      border-radius: 4px;
      box-shadow: 
        inset 0 -5px 8px rgba(0,0,0,0.4),
        inset 0 3px 5px rgba(255,255,255,0.2);
      position: relative;
      transform-style: preserve-3d;
    }

    .step:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(to right, #777, #999);
      border-radius: 4px 4px 0 0;
    }

    .step:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(to right, #333, #444);
    }

    @keyframes scrollSteps {
      0% { transform: translateY(0); }
      100% { transform: translateY(-1000px); }
    }

    .handrail {
      position: absolute;
      width: 25px;
      height: 110%;
      background: linear-gradient(to bottom, #333, #555);
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      transform: rotateX(15deg);
      top: -5%;
    }

    .handrail.left {
      left: -40px;
    }

    .handrail.right {
      right: -40px;
    }

    .handrail:before {
      content: '';
      position: absolute;
      top: -100%;
      left: 0;
      width: 100%;
      height: 200%;
      background: linear-gradient(to bottom, 
        transparent 0%, 
        rgba(255,255,255,0.3) 10%,
        rgba(255,255,255,0.3) 15%,
        transparent 25%,
        transparent 100%);
      animation: moveHandrail 2s linear infinite;
    }

    @keyframes moveHandrail {
      0% { top: -100%; }
      100% { top: 100%; }
    }

    .control-panel {
      background: rgba(0, 0, 0, 0.6);
      border-radius: 15px;
      padding: 25px;
      margin-top: 40px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255,255,255,0.1);
    }

    h2 {
      color: white;
      margin-bottom: 20px;
      font-weight: 400;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .control-group {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    label {
      color: rgba(255,255,255,0.9);
      margin-bottom: 8px;
      font-size: 0.9rem;
    }

    input[type="range"] {
      width: 180px;
      height: 8px;
      border-radius: 4px;
      background: #555;
      outline: none;
      -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #fff;
      cursor: pointer;
      box-shadow: 0 0 5px rgba(0,0,0,0.5);
    }

    .floor {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 20px;
      background: linear-gradient(to top, #333, #555);
      z-index: 5;
    }

    .ceiling {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 20px;
      background: linear-gradient(to bottom, #333, #555);
      z-index: 5;
    }

    .people {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 3;
    }

    .person {
      position: absolute;
      width: 20px;
      height: 50px;
      background: #ff5252;
      border-radius: 10px 10px 0 0;
      bottom: 20px;
      animation: rideUp 15s linear infinite;
      opacity: 0;
    }

    @keyframes rideUp {
      0% { 
        bottom: 20px; 
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% { 
        bottom: 480px; 
        opacity: 0;
      }
    }

    .person:nth-child(1) { left: 30%; animation-delay: 0s; background: #ff5252; }
    .person:nth-child(2) { left: 45%; animation-delay: 4s; background: #4caf50; }
    .person:nth-child(3) { left: 60%; animation-delay: 8s; background: #2196f3; }
    .person:nth-child(4) { left: 30%; animation-delay: 12s; background: #ff9800; }

    .speed-display {
      color: white;
      background: rgba(0,0,0,0.5);
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 0.9rem;
      margin-top: 10px;
    }

    .decoration {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 0;
    }

    .light-beam {
      position: absolute;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at center, rgba(255,255,255,0.05) 0%, transparent 70%);
      top: 0;
      left: 0;
    }

    .particle {
      position: absolute;
      background: rgba(255,255,255,0.8);
      border-radius: 50%;
      animation: float 15s infinite linear;
    }

    @keyframes float {
      0% { transform: translateY(100vh) translateX(0) scale(0.5); opacity: 0; }
      10% { opacity: 0.6; }
      90% { opacity: 0.4; }
      100% { transform: translateY(-100px) translateX(100px) scale(1); opacity: 0; }
    }

    .info {
      position: absolute;
      bottom: 20px;
      left: 20px;
      color: rgba(255,255,255,0.7);
      font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      .escalator-container {
        transform: scale(0.7) rotateX(10deg) rotateY(-5deg);
      }
      
      h1 {
        font-size: 2.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="decoration" id="particles"></div>
  <div class="light-beam"></div>

  <div class="container">
    <h1>Realistic 3D Escalator</h1>
    <p class="subtitle">Experience a photorealistic escalator simulation with dynamic controls. Adjust the speed, rotation, and watch as animated characters ride the escalator.</p>
    
    <div class="escalator-container">
      <div class="escalator">
        <div class="handrail left"></div>
        <div class="handrail right"></div>
        <div class="steps-wrapper">
          <div class="steps" id="steps"></div>
        </div>
        <div class="floor"></div>
        <div class="ceiling"></div>
        <div class="people">
          <div class="person"></div>
          <div class="person"></div>
          <div class="person"></div>
          <div class="person"></div>
        </div>
      </div>
    </div>
    
    <div class="control-panel">
      <h2>Escalator Controls</h2>
      <div class="controls">
        <div class="control-group">
          <label for="speed">Speed</label>
          <input type="range" id="speed" min="1" max="10" value="5">
          <div class="speed-display">Current Speed: <span id="speed-value">5</span></div>
        </div>
        
        <div class="control-group">
          <label for="rotation">Rotation</label>
          <input type="range" id="rotation" min="-60" max="60" value="30">
        </div>
        
        <div class="control-group">
          <label for="perspective">3D Perspective</label>
          <input type="range" id="perspective" min="0" max="30" value="15">
        </div>
      </div>
    </div>
  </div>
  
  <div class="info">Drag the controls to adjust escalator parameters</div>

  <script>
    // Initialize steps
    const stepsContainer = document.getElementById('steps');
    const stepCount = 40;
    
    for (let i = 0; i < stepCount; i++) {
      const step = document.createElement('div');
      step.className = 'step';
      stepsContainer.appendChild(step);
    }
    
    // Create background particles
    const particlesContainer = document.getElementById('particles');
    for (let i = 0; i < 50; i++) {
      const particle = document.createElement('div');
      particle.className = 'particle';
      
      // Random properties
      const size = Math.random() * 5 + 1;
      const posX = Math.random() * 100;
      const duration = Math.random() * 20 + 10;
      const delay = Math.random() * 10;
      
      particle.style.width = `${size}px`;
      particle.style.height = `${size}px`;
      particle.style.left = `${posX}%`;
      particle.style.animationDuration = `${duration}s`;
      particle.style.animationDelay = `-${delay}s`;
      
      particlesContainer.appendChild(particle);
    }
    
    // Controls functionality
    const speedControl = document.getElementById('speed');
    const rotationControl = document.getElementById('rotation');
    const perspectiveControl = document.getElementById('perspective');
    const speedValue = document.getElementById('speed-value');
    const escalator = document.querySelector('.escalator');
    
    // Speed control
    speedControl.addEventListener('input', function() {
      const speed = this.value;
      speedValue.textContent = speed;
      document.documentElement.style.setProperty('--animation-speed', `${20 - speed * 1.5}s`);
      document.querySelector('.steps').style.animationDuration = `${20 - speed * 1.5}s`;
    });
    
    // Rotation control
    rotationControl.addEventListener('input', function() {
      const rotation = this.value;
      escalator.style.transform = `translate(-50%, -50%) rotate(${rotation}deg) rotateX(15deg)`;
    });
    
    // Perspective control
    perspectiveControl.addEventListener('input', function() {
      const perspective = this.value;
      escalator.style.transform = `translate(-50%, -50%) rotate(30deg) rotateX(${perspective}deg)`;
    });
    
    // Add a slight continuous rotation to the whole scene for visual interest
    let angle = 0;
    setInterval(() => {
      angle = (angle + 0.1) % 360;
      document.querySelector('.escalator-container').style.transform = `rotateX(10deg) rotateY(${-5 + Math.sin(angle * Math.PI/180) * 3}deg)`;
    }, 50);
  </script>
</body>
</html>